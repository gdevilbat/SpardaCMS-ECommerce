!function(t){function a(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}var e={};a.m=t,a.c=e,a.i=function(t){return t},a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="",a(a.s=366)}({153:function(t,a){!function(t){function a(){return{item:[],errors:[],product_sale:null,product_weight:null,product_avalability:null}}var e=new Vue({el:"#data_scrapping",data:{items:[]},methods:{setTokopediaDownloadItem:function(a){i.item=a,t.ajax({url:t("#data-product").attr("data-url-scrapping-tokopedia-product-detail"),method:"POST",headers:{Accept:"application/json",Authorization:"Bearer "+t("meta[name='api-token']").attr("content")},data:{merchant:a.store,slug:a.slug}}).done(function(a){i.$set(i.item,"product_id",a[0].data.getPDPInfo.basic.id),i.$set(i.item,"images",a[0].data.getPDPInfo.pictures),i.$set(i.item,"description",a[0].data.getPDPInfo.basic.description),i.$set(i.item,"product_weight",a[0].data.getPDPInfo.basic.weight/1e3),a[0].data.getPDPInfo.campaign.discountedPrice>0?i.$set(i.item,"price",a[0].data.getPDPInfo.campaign.discountedPrice):i.$set(i.item,"price",a[0].data.getPDPInfo.basic.price),i.$set(i.item,"is_variant",a[0].data.getPDPInfo.variant.isVariant),i.$set(i.item,"condition",a[0].data.getPDPInfo.basic.condition.toLowerCase()),a[0].data.getPDPInfo.variant.isVariant&&t.ajax({url:t("#data-product").attr("data-url-scrapping-tokopedia-product-variant"),method:"POST",headers:{Accept:"application/json",Authorization:"Bearer "+t("meta[name='api-token']").attr("content")},data:{variant_id:a[0].data.getPDPInfo.basic.id}}).done(function(t){i.$set(i.item,"children",t[0].data.getProductVariant.children)}).fail(function(){})}).fail(function(){}),t("#modal-tokopedia-download").modal("show")}}});t(document).ready(function(){t("#submit-data-scrapping").click(function(a){var i={url:t("#data-web-scrapping").attr("action"),method:"POST",headers:{accept:"application/json",Authorization:"Bearer "+t("meta[name='api-token']").attr("content")},data:t("#data-web-scrapping").serialize()};t.ajax(i).done(function(t){e.items=t.list}).fail(function(t){alert(JSON.stringify(t.responseJSON.errors))})})});var i=new Vue({el:"#tokopedia_download",data:function(){return a()},methods:{resetWindow:function(){Object.assign(this.$data,a())},removeChildren:function(t){this.item.children.splice(t,1)},removeImage:function(t){this.item.images.splice(t,1)},addImage:function(){this.item.images.push({urlOriginal:""})},addChildren:function(){this.item.children.push({product_id:""})},submit:function(){self=this,t.ajax({url:t("#tokopedia_download").attr("data-action"),type:"POST",data:t("#tokopedia_download").serialize(),headers:{Accept:"application/json",Authorization:"Bearer "+t("meta[name='api-token']").attr("content")}}).done(function(){self.errors=[],t("#reload-datatable").click(),t("#modal-tokopedia-download").modal("hide"),t("#submit-data-scrapping").click()}).fail(function(t){self.errors=t.responseJSON.errors})}}});window.TokopediaDownload=i,t(document).ready(function(){t("#modal-tokopedia-download").on("hidden.bs.modal",function(t){i.resetWindow()})})}(jQuery)},366:function(t,a,e){t.exports=e(153)}});