!function(t){var e={};function a(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(i,o,function(e){return t[e]}.bind(null,o));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=366)}({366:function(t,e,a){t.exports=a(367)},367:function(t,e){var a,i;a=jQuery,i=new Vue({el:"#lazada_upload",data:function(){return{id_posts:null,item:[],category_id:null,categories:[],logistics:[],attributes:[],selected_category:[],children_categories:[],selected_logistic:[],errors:[],attribute_option_index:null,is_pre_order:!1}},methods:{addSelected:function(t,e){var i=this,o=this.categories;this.children_categories=[],this.attributes=[],this.category_id=null,this.$set(this.selected_category,e,t.target.value),this.$nextTick((function(){a.each(this.selected_category,(function(t,a){e<=t&&(i.selected_category.splice(t+1,1),document.getElementById("children_"+(t+1)).value="")}))})),a.each(i.selected_category,(function(t,e){o[e].hasOwnProperty("children")?(i.$set(i.children_categories,t,o[e].children),o=o[e].children):(i.selected_category.splice(t,1),i.category_id=o[e].category_id,a.ajax({url:a("#lazada_form").attr("data-url-lazada-attribute"),data:{category_id:i.category_id,shop_id:a("[name='shop_id']").val()},headers:{Accept:"application/json",Authorization:"Bearer "+a("meta[name='api-token']").attr("content")}}).done((function(t){i.attributes=t})).fail((function(){console.log("error")})))}))},setAttributeIndex:function(t){this.attribute_option_index=t},addAttributeOption:function(t){last=this.attributes[t].options.length,this.$set(this.attributes[t].options,last,{name:a("#attribute_option_"+t).val()}),this.attribute_option_index=null},setDataForm:function(t){this.id_posts=t;var e=this;a.ajax({url:a("#lazada_form").attr("data-url-product-detail"),type:"POST",data:{id_posts:this.id_posts},headers:{Accept:"application/json"}}).done((function(t){e.item=t,a("#modal-lazada-upload").modal("show"),window.objSize(t.product_variant)>0?(Variant_lazada_upload.variants=t.product_variant.variants,Variant_lazada_upload.children=t.product_variant.children):(Variant_lazada_upload.variants=[],Variant_lazada_upload.children=[])})).fail((function(){console.log("error")}))},getModelValue:function(t,e){return"name"==e?this.item.post_title:"price"==e?this.item.price:"package_weight"==e?this.item.product_weight:"short_description"==e?this.item.post_content:"quantity"==e?this.item.product_stock:a("[name='product_attributes["+t+"][value]']").val()},isReadOnly:function(t){return-1!==["name","price","package_weight","short_description","quantity"].indexOf(t)},resetWindow:function(){Object.assign(this.$data,{id_posts:null,item:[],category_id:null,categories:[],logistics:[],attributes:[],selected_category:[],children_categories:[],selected_logistic:[],errors:[],attribute_option_index:null,is_pre_order:!1})},submit:function(t){t.preventDefault();var e=this;a.ajax({url:a("#lazada_form").attr("data-action"),type:"POST",data:a("#lazada_form").serialize(),headers:{Accept:"application/json",Authorization:"Bearer "+a("meta[name='api-token']").attr("content")}}).done((function(){e.errors=[],a("#reload-datatable").click(),a("#modal-lazada-upload").modal("hide")})).fail((function(t){e.errors=t.responseJSON.errors}))}}}),window.LazadaUpload=i,a(document).ready((function(){a("#modal-lazada-upload").on("hidden.bs.modal",(function(t){i.resetWindow(),Variant_lazada_upload.resetWindow()})),a("#modal-lazada-upload").on("shown.bs.modal",(function(){a.ajax({url:a("#lazada_form").attr("data-url-lazada-category"),data:{shop_id:a("[name='shop_id']").val()},headers:{Accept:"application/json",Authorization:"Bearer "+a("meta[name='api-token']").attr("content")}}).done((function(t){i.categories=t})).fail((function(){console.log("error")}))}))}))}});